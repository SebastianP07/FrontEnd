(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{I0T8:function(t,a,i){"use strict";i.r(a),i.d(a,"GestionImpuestosModule",function(){return lt});var o=i("ofXK"),e=i("tyNb"),n=i("LPdf"),r=i("3Pt+"),c=i("wd/R"),d=i("0IaG"),s=i("fXoL"),l=i("FKr1"),b=i("dNgK"),m=i("R8I1"),u=i("Wp6s"),g=i("NFeN"),p=i("f0Cb"),h=i("kmnG"),f=i("qFsG"),P=i("iadO"),V=i("d3UM"),v=i("1jcm"),C=i("bTqV");function O(t,a){1&t&&s.Rb(0)}function U(t,a){if(1&t&&(s.Vb(0,"div"),s.zc(1,O,1,0,"ng-container",43),s.Ub()),2&t){s.gc();const t=s.rc(9);s.Db(1),s.mc("ngTemplateOutlet",t)}}function B(t,a){1&t&&s.Rb(0)}function M(t,a){if(1&t&&(s.Vb(0,"div"),s.zc(1,B,1,0,"ng-container",43),s.Ub()),2&t){s.gc();const t=s.rc(11);s.Db(1),s.mc("ngTemplateOutlet",t)}}function D(t,a){1&t&&(s.Vb(0,"small"),s.Bc(1,"Aqu\xed puedes agregar el impuesto."),s.Ub())}function y(t,a){1&t&&(s.Vb(0,"small"),s.Bc(1,"Aqu\xed puedes editar el impuesto seleccionado."),s.Ub())}function x(t,a){if(1&t&&(s.Vb(0,"mat-option",44),s.Bc(1),s.Ub()),2&t){const t=a.$implicit;s.mc("disable",null==t?null:t.estado)("value",null==t?null:t.id),s.Db(1),s.Dc(" ",null==t?null:t.nombre," ")}}function I(t,a){if(1&t&&(s.Vb(0,"mat-option",45),s.Bc(1),s.Ub()),2&t){const t=a.$implicit;s.mc("value",null==t?null:t.id),s.Db(1),s.Dc(" ",null==t?null:t.descripcion," ")}}let _=(()=>{class t{constructor(t,a,i,o,e,r){this.dialogRef=t,this.dialogData=a,this.formBuilder=i,this.dateAdapter=o,this._snackBar=e,this.gestionBienesService=r,this.loading=!1,this.fechaLimPagoOrdinario=new Date(2020,1,1),this.dateAdapter.setLocale("es"),this.contruirFormulario(),this.getTipoBien(),this.periodicidadImpuesto=n.a.periodicidadImpuesto,this.getPeriodicidadImpuesto()}closedDialog(){this.dialogRef.close(this.dialogData.cancelDialog)}acceptDialogBtn(t){var a,i;const o=null===(a=this.dialogData)||void 0===a?void 0:a.accion,e={fechaLimitePagoExtraOrdinario:c(t.fechaLimitePagoExtraOrdinario).format("yyyy-MM-DD"),fechaLimitePagoOrdinario:c(t.fechaLimitePagoOrdinario).format("yyyy-MM-DD"),basePagoOrdinario:t.basePagoOrdinario,basePagoOrdinarioConPagoVoluntario:t.basePagoOrdinarioConPagoVoluntario,basePagoExtraordinario:t.basePagoExtraordinario,basePagoExtraOrdinarioConPagoVoluntario:t.basePagoExtraOrdinarioConPagoVoluntario,valorPagoMinimoOrdinario:t.valorPagoMinimoOrdinario,valorPagoMinimoConPagoVoluntario:t.valorPagoMinimoConPagoVoluntario,valorPagoMinimoExtraOrdinario:t.valorPagoMinimoExtraOrdinario,valorPagoMinimoExtraOrdinarioConPagoVoluntario:t.valorPagoMinimoExtraOrdinarioConPagoVoluntario,estado:""!==t.estado&&t.estado,tipoBien:{id:this.tiposBien.filter(t=>t.id===this.tipoBienSeleccionado)[0].id},periodicidad:null===(i=this.periodicidadImpuesto.filter(t=>t.id===this.periodicidadSeleccionado)[0])||void 0===i?void 0:i.valor,obligatorio:""!==t.obligatorio&&t.obligatorio};"editar"===o?(e.id=this.dialogData.datos.id,this.gestionBienesService.editarImpuesto(e).subscribe(t=>{this._snackBar.open("Registro actualizado con \xe9xito.","X",{duration:2e3})})):this.gestionBienesService.agregarImpuesto(e).subscribe(t=>{this._snackBar.open("Registro creado con \xe9xito.","X",{duration:2e3})}),this.closedDialog()}contruirFormulario(){var t;const a=this.dialogData.datos;console.log(a),this.formRegistro=this.formBuilder.group({fechaLimitePagoOrdinario:new r.e(void 0===a?"":a.fechaLimitePagoOrdinario,r.p.required),fechaLimitePagoExtraOrdinario:new r.e(void 0===a?"":a.fechaLimitePagoExtraOrdinario,r.p.required),estado:new r.e(void 0===a?"":a.estado),obligatorio:new r.e(void 0===a?"":a.obligatorio),basePagoOrdinario:new r.e(void 0===a?"":a.basePagoOrdinario,r.p.compose([r.p.required])),basePagoOrdinarioConPagoVoluntario:new r.e(void 0===a?"":a.basePagoOrdinarioConPagoVoluntario,r.p.compose([r.p.required])),basePagoExtraordinario:new r.e(void 0===a?"":a.basePagoExtraordinario,r.p.compose([r.p.required])),basePagoExtraOrdinarioConPagoVoluntario:new r.e(void 0===a?"":a.basePagoExtraOrdinarioConPagoVoluntario,r.p.compose([r.p.required])),valorPagoMinimoOrdinario:new r.e(void 0===a?"":a.valorPagoMinimoOrdinario,r.p.compose([r.p.required])),valorPagoMinimoConPagoVoluntario:new r.e(void 0===a?"":a.valorPagoMinimoConPagoVoluntario,r.p.compose([r.p.required])),valorPagoMinimoExtraOrdinario:new r.e(void 0===a?"":a.valorPagoMinimoExtraOrdinario,r.p.compose([r.p.required])),valorPagoMinimoExtraOrdinarioConPagoVoluntario:new r.e(void 0===a?"":a.valorPagoMinimoExtraOrdinarioConPagoVoluntario,r.p.compose([r.p.required]))}),null===(t=this.formRegistro.get("fechaLimitePagoOrdinario"))||void 0===t||t.valueChanges.subscribe(t=>{this.fechaLimPagoOrdinario=new Date(t)})}getTipoBien(){var t;const a=null===(t=this.dialogData.datos)||void 0===t?void 0:t.tipoBien;this.gestionBienesService.getTiposBienes().subscribe(t=>{this.tiposBien=t,a&&(this.tipoBienSeleccionado=this.tiposBien.filter(t=>t.id===a.id)[0].id)})}getPeriodicidadImpuesto(){var t;const a=null===(t=this.dialogData.datos)||void 0===t?void 0:t.periodicidad;a&&(this.periodicidadSeleccionado=this.periodicidadImpuesto.filter(t=>t.valor===this.cambioDatoPeriodicidad(a))[0].id)}cambioDatoPeriodicidad(t){switch(t){case"ANUAL":return"CA";case"SEMESTRAL":return"CSM";case"UNICO":return"U";default:return t}}}return t.\u0275fac=function(a){return new(a||t)(s.Pb(d.f),s.Pb(d.a),s.Pb(r.d),s.Pb(l.c),s.Pb(b.a),s.Pb(m.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-dialog-creacion-edicion"]],decls:125,vars:16,consts:[[1,"custom-card"],[1,"bg-primary","p-2"],[1,"m-0","pt-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],["agregar",""],["editar",""],[1,"close",3,"click"],[1,"pt-3"],[1,"row"],[1,"col-md-12"],["mat-dialog-content",""],[1,"body-dialog"],[3,"formGroup"],[1,"col-md-6"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","fechaLimitePagoOrdinario",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["matInput","","formControlName","fechaLimitePagoExtraOrdinario",3,"matDatepicker","min"],["picker2",""],["appearance","legacy"],[3,"value","valueChange"],[3,"disable","value",4,"ngFor","ngForOf"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","center"],[1,"box-slide-toggle"],["ngClass","labelBeforeSlide"],["slot","end","color","primary","formControlName","estado"],["slot","end","color","primary","formControlName","obligatorio"],["type","number","matInput","","placeholder","Base Pago Ordinario","formControlName","basePagoOrdinario"],["type","number","matInput","","placeholder","Base Pago Ordinario con Pago Voluntario","formControlName","basePagoOrdinarioConPagoVoluntario"],["type","number","matInput","","placeholder","Base Pago Extraordinario","formControlName","basePagoExtraordinario"],["type","number","matInput","","placeholder","Base Pago Extraordinario con Pago Voluntario","formControlName","basePagoExtraOrdinarioConPagoVoluntario"],[1,"row","m2"],["type","number","matInput","","placeholder","Valor Pago Minimo Ordinario","formControlName","valorPagoMinimoOrdinario"],["type","number","matInput","","placeholder","Valor Pago Minimo Ordinario con Pago Voluntario","formControlName","valorPagoMinimoConPagoVoluntario"],["type","number","matInput","","placeholder","Valor Pago Minimo Extraordinario","formControlName","valorPagoMinimoExtraOrdinario"],["type","number","matInput","","placeholder","Valor Pago Minimo Extraordinario con Pago Voluntario","formControlName","valorPagoMinimoExtraOrdinarioConPagoVoluntario"],["fxLayoutAlign","end center",1,"footer-custom"],["mat-dialog-actions","",1,"mat-dialog-actions"],["mat-raised-button","","color","primary",1,"button-aceptar",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],[4,"ngTemplateOutlet"],[3,"disable","value"],[3,"value"]],template:function(t,a){if(1&t&&(s.Vb(0,"mat-card",0),s.Vb(1,"mat-card-header",1),s.Vb(2,"mat-card-title",2),s.Vb(3,"span"),s.Bc(4),s.Ub(),s.Vb(5,"div",3),s.zc(6,U,2,1,"div",4),s.zc(7,M,2,1,"div",4),s.Ub(),s.zc(8,D,2,0,"ng-template",null,5,s.Ac),s.zc(10,y,2,0,"ng-template",null,6,s.Ac),s.Ub(),s.Vb(12,"a",7),s.cc("click",function(){return a.closedDialog()}),s.Vb(13,"mat-icon"),s.Bc(14,"clear"),s.Ub(),s.Ub(),s.Ub(),s.Qb(15,"mat-divider"),s.Vb(16,"mat-card-content",8),s.Vb(17,"div",9),s.Vb(18,"div",10),s.Vb(19,"div",11),s.Vb(20,"div",12),s.Vb(21,"form",13),s.Vb(22,"div",10),s.Vb(23,"div",9),s.Vb(24,"div",14),s.Vb(25,"mat-form-field",15),s.Vb(26,"mat-label"),s.Bc(27,"Fecha limite de pago ordinario (*)"),s.Ub(),s.Qb(28,"input",16),s.Qb(29,"mat-datepicker-toggle",17),s.Qb(30,"mat-datepicker",null,18),s.Ub(),s.Ub(),s.Vb(32,"div",14),s.Vb(33,"mat-form-field",15),s.Vb(34,"mat-label"),s.Bc(35,"Fecha limite de pago extraordinario (*)"),s.Ub(),s.Qb(36,"input",19),s.Qb(37,"mat-datepicker-toggle",17),s.Qb(38,"mat-datepicker",null,20),s.Ub(),s.Ub(),s.Ub(),s.Vb(40,"div",9),s.Vb(41,"div",14),s.Vb(42,"mat-form-field",21),s.Vb(43,"mat-label"),s.Bc(44,"Tipo de bien"),s.Ub(),s.Vb(45,"mat-select",22),s.cc("valueChange",function(t){return a.tipoBienSeleccionado=t}),s.zc(46,x,2,3,"mat-option",23),s.Ub(),s.Ub(),s.Ub(),s.Vb(47,"div",14),s.Vb(48,"mat-form-field",21),s.Vb(49,"mat-label"),s.Bc(50,"Periodicidad Impuesto"),s.Ub(),s.Vb(51,"mat-select",22),s.cc("valueChange",function(t){return a.periodicidadSeleccionado=t}),s.zc(52,I,2,2,"mat-option",24),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(53,"div",9),s.Vb(54,"div",25),s.Vb(55,"div",26),s.Vb(56,"mat-label",27),s.Bc(57,"Inactivo"),s.Ub(),s.Vb(58,"mat-slide-toggle",28),s.Bc(59,"Activo "),s.Ub(),s.Ub(),s.Ub(),s.Vb(60,"div",25),s.Vb(61,"div",26),s.Vb(62,"mat-label",27),s.Bc(63,"Opcional"),s.Ub(),s.Vb(64,"mat-slide-toggle",29),s.Bc(65,"Obligatorio "),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(66,"mat-divider"),s.Vb(67,"div",9),s.Vb(68,"div",10),s.Vb(69,"h3"),s.Bc(70,"Base Calculo Impuesto"),s.Ub(),s.Ub(),s.Ub(),s.Vb(71,"div",9),s.Vb(72,"div",25),s.Vb(73,"mat-form-field",21),s.Vb(74,"mat-label"),s.Bc(75,"Base Pago Ordinario (*)"),s.Ub(),s.Qb(76,"input",30),s.Ub(),s.Ub(),s.Vb(77,"div",25),s.Vb(78,"mat-form-field",21),s.Vb(79,"mat-label"),s.Bc(80,"Base Pago Ordinario con Pago Voluntario (*)"),s.Ub(),s.Qb(81,"input",31),s.Ub(),s.Ub(),s.Vb(82,"div",25),s.Vb(83,"mat-form-field",21),s.Vb(84,"mat-label"),s.Bc(85,"Base Pago Extraordinario (*)"),s.Ub(),s.Qb(86,"input",32),s.Ub(),s.Ub(),s.Vb(87,"div",25),s.Vb(88,"mat-form-field",21),s.Vb(89,"mat-label"),s.Bc(90,"Base Pago Extraordinario con Pago Voluntario (*)"),s.Ub(),s.Qb(91,"input",33),s.Ub(),s.Ub(),s.Ub(),s.Qb(92,"mat-divider"),s.Vb(93,"div",9),s.Vb(94,"div",10),s.Vb(95,"h3"),s.Bc(96,"Valores Pagos Minimos"),s.Ub(),s.Ub(),s.Ub(),s.Vb(97,"div",34),s.Vb(98,"div",25),s.Vb(99,"mat-form-field",21),s.Vb(100,"mat-label"),s.Bc(101,"Valor Pago Minimo Ordinario (*)"),s.Ub(),s.Qb(102,"input",35),s.Ub(),s.Ub(),s.Vb(103,"div",25),s.Vb(104,"mat-form-field",21),s.Vb(105,"mat-label"),s.Bc(106,"Valor Pago Minimo Ordinario con Pago Voluntario (*)"),s.Ub(),s.Qb(107,"input",36),s.Ub(),s.Ub(),s.Vb(108,"div",25),s.Vb(109,"mat-form-field",21),s.Vb(110,"mat-label"),s.Bc(111,"Valor Pago Minimo Extraordinario (*)"),s.Ub(),s.Qb(112,"input",37),s.Ub(),s.Ub(),s.Vb(113,"div",25),s.Vb(114,"mat-form-field",21),s.Vb(115,"mat-label"),s.Bc(116,"Valor Pago Minimo Extraordinario con Pago Voluntario (*)"),s.Ub(),s.Qb(117,"input",38),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(118,"mat-divider"),s.Vb(119,"mat-card-footer",39),s.Vb(120,"div",40),s.Vb(121,"button",41),s.cc("click",function(){return a.acceptDialogBtn(a.formRegistro.value)}),s.Bc(122),s.Ub(),s.Vb(123,"button",42),s.cc("click",function(){return a.closedDialog()}),s.Bc(124," Cerrar "),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t){const t=s.rc(31),i=s.rc(39);s.Db(4),s.Cc(a.dialogData.headerDialog),s.Db(1),s.mc("ngSwitch",null==a.dialogData?null:a.dialogData.accion),s.Db(1),s.mc("ngSwitchCase","agregar"),s.Db(1),s.mc("ngSwitchCase","editar"),s.Db(14),s.mc("formGroup",a.formRegistro),s.Db(7),s.mc("matDatepicker",t),s.Db(1),s.mc("for",t),s.Db(7),s.mc("matDatepicker",i)("min",a.fechaLimPagoOrdinario),s.Db(1),s.mc("for",i),s.Db(8),s.mc("value",a.tipoBienSeleccionado),s.Db(1),s.mc("ngForOf",a.tiposBien),s.Db(5),s.mc("value",a.periodicidadSeleccionado),s.Db(1),s.mc("ngForOf",a.periodicidadImpuesto),s.Db(69),s.mc("disabled",!a.formRegistro.valid),s.Db(1),s.Dc(" ","agregar"===a.dialogData.accion?"Agregar":"Actualizar"," ")}},directives:[u.a,u.d,u.f,o.p,o.q,g.a,p.a,u.b,d.d,r.q,r.l,r.g,h.b,h.e,f.b,r.c,P.b,r.k,r.f,P.d,h.f,P.a,V.a,o.m,o.l,v.a,r.n,u.c,d.c,C.a,o.s,l.m],styles:["mat-card-header[_ngcontent-%COMP%]{justify-content:space-between}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:grid;margin-bottom:0}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text)}mat-card-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:8px}mat-card-content[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:4px}mat-card-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]   .datePicker-range[_ngcontent-%COMP%]{margin-bottom:-18px}mat-card-content[_ngcontent-%COMP%]   .desc-datePicker[_ngcontent-%COMP%]{color:#0000008a;font-size:11px}mat-card-content[_ngcontent-%COMP%]   .box-slide-toggle[_ngcontent-%COMP%]{margin:15px 0 1px}mat-card-content[_ngcontent-%COMP%]   .box-slide-toggle[_ngcontent-%COMP%]   .labelBeforeSlide[_ngcontent-%COMP%]{vertical-align:top;line-height:24px;margin-right:.5rem;margin-bottom:.5rem}mat-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;padding-top:15px}mat-card-content[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.mat-card-footer[_ngcontent-%COMP%]{margin:0}"]}),t})();var w=i("aD4V"),$=i("lv8Y"),S=i("+0xr"),E=i("A5z7");let k=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=s.Jb({type:t,selectors:[["app-resumen"]],inputs:{data:"data"},decls:7,vars:3,consts:[[3,"ngClass"],[1,"box"],[1,"cantidad"],[1,"descripcion"]],template:function(t,a){1&t&&(s.Vb(0,"mat-card",0),s.Vb(1,"mat-card-content"),s.Vb(2,"div",1),s.Vb(3,"span",2),s.Bc(4),s.Ub(),s.Vb(5,"span",3),s.Bc(6),s.Ub(),s.Ub(),s.Ub(),s.Ub()),2&t&&(s.mc("ngClass",a.data.cantidad>0&&null!=a.data&&null!=a.data.descipcion&&a.data.descipcion.includes("mora")?"alerta":""),s.Db(4),s.Cc(null==a.data?null:a.data.cantidad),s.Db(2),s.Cc(null==a.data?null:a.data.descipcion))},directives:[u.a,o.l,u.b],styles:[".box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:16px}.box[_ngcontent-%COMP%]   .cantidad[_ngcontent-%COMP%]{font-size:55px}.box[_ngcontent-%COMP%]   .descripcion[_ngcontent-%COMP%]{padding-top:10px}.alerta[_ngcontent-%COMP%]{background-color:#ffa1a1}"]}),t})();function z(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1,"No."),s.Ub())}function A(t,a){if(1&t&&(s.Vb(0,"td",23),s.Bc(1),s.Ub()),2&t){const t=a.$implicit;s.Db(1),s.Dc(" ",t.id," ")}}function L(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1,"Tipo Bien"),s.Ub())}function Q(t,a){if(1&t&&(s.Vb(0,"td",23),s.Vb(1,"mat-chip-list",24),s.Vb(2,"mat-chip"),s.Vb(3,"mat-icon"),s.Bc(4),s.hc(5,"lowercase"),s.Ub(),s.Bc(6),s.Ub(),s.Ub(),s.Ub()),2&t){const t=a.$implicit;s.Db(4),s.Cc(s.ic(5,2,t.tipoBien.icono)),s.Db(2),s.Dc(" ",t.tipoBien.nombre," ")}}function R(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1,"Estado"),s.Ub())}function N(t,a){1&t&&(s.Vb(0,"span"),s.Bc(1," Vigente "),s.Ub())}function T(t,a){1&t&&(s.Vb(0,"span"),s.Bc(1," No Vigente "),s.Ub())}function F(t,a){if(1&t&&(s.Vb(0,"td",23),s.Vb(1,"mat-chip-list",24),s.Vb(2,"mat-chip"),s.zc(3,N,2,0,"span",25),s.zc(4,T,2,0,"span",25),s.Ub(),s.Ub(),s.Ub()),2&t){const t=a.$implicit;s.Db(3),s.mc("ngIf",!0===t.estado),s.Db(1),s.mc("ngIf",!1===t.estado)}}function q(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1,"Obligatorio"),s.Ub())}function j(t,a){1&t&&(s.Vb(0,"span"),s.Bc(1," Obligatorio "),s.Ub())}function X(t,a){1&t&&(s.Vb(0,"span"),s.Bc(1," Voluntario "),s.Ub())}function G(t,a){if(1&t&&(s.Vb(0,"td",23),s.Vb(1,"mat-chip-list",24),s.Vb(2,"mat-chip"),s.zc(3,j,2,0,"span",25),s.zc(4,X,2,0,"span",25),s.Ub(),s.Ub(),s.Ub()),2&t){const t=a.$implicit;s.Db(3),s.mc("ngIf",!0===t.obligatorio),s.Db(1),s.mc("ngIf",!1===t.obligatorio)}}function J(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1," Fecha Limite Pago Ordinario "),s.Ub())}function H(t,a){if(1&t&&(s.Vb(0,"td",23),s.Bc(1),s.hc(2,"date"),s.Ub()),2&t){const t=a.$implicit;s.Db(1),s.Dc(" ",s.jc(2,1,t.fechaLimitePagoOrdinario,"dd/MM/yyyy")," ")}}function K(t,a){1&t&&(s.Vb(0,"th",22),s.Bc(1," Fecha Limite Pago Extra Ordinario "),s.Ub())}function W(t,a){if(1&t&&(s.Vb(0,"td",23),s.Bc(1),s.hc(2,"date"),s.Ub()),2&t){const t=a.$implicit;s.Db(1),s.Dc(" ",s.jc(2,1,t.fechaLimitePagoExtraOrdinario,"dd/MM/yyyy")," ")}}function Z(t,a){1&t&&s.Qb(0,"th",22)}function Y(t,a){if(1&t){const t=s.Wb();s.Vb(0,"td",23),s.Vb(1,"button",26),s.cc("click",function(){s.tc(t);const i=a.$implicit;return s.gc().accionRegistro(i)}),s.Bc(2," Ver Detalle "),s.Ub(),s.Ub()}}function tt(t,a){1&t&&s.Qb(0,"th",22)}function at(t,a){if(1&t){const t=s.Wb();s.Vb(0,"td",23),s.Vb(1,"button",27),s.cc("click",function(){s.tc(t);const i=a.$implicit;return s.gc().asignarImpuestoBienes(i)}),s.Bc(2," Asignar Impuesto a Bienes "),s.Ub(),s.Ub()}if(2&t){const t=a.$implicit;s.Db(1),s.mc("disabled",t.asignado)}}function it(t,a){1&t&&s.Qb(0,"tr",28)}function ot(t,a){1&t&&s.Qb(0,"tr",29)}function et(t,a){if(1&t&&(s.Vb(0,"div",30),s.Qb(1,"app-resumen",31),s.Ub()),2&t){const t=s.gc();s.Db(1),s.mc("data",t.impuestosMora)}}function nt(t,a){if(1&t&&(s.Vb(0,"div",30),s.Qb(1,"app-resumen",31),s.Ub()),2&t){const t=s.gc();s.Db(1),s.mc("data",t.cantidadContribuyentes)}}function rt(t,a){if(1&t&&(s.Vb(0,"div",30),s.Qb(1,"app-resumen",31),s.Ub()),2&t){const t=s.gc();s.Db(1),s.mc("data",t.cantidadBienes)}}const ct=[{path:"",component:(()=>{class t{constructor(t,a,i,o,e){this.dialog=t,this.gestionImpuestosService=a,this._snackBar=i,this.gestionContribuyentesService=o,this.gestionBienesService=e,this.displayedColumns=["Id","TipoBien","Estado","Obligatorio","FechaLimitePagoOrdinario","FechaLimitePagoExtraOrdinario","VerMas","AsignarImpuestoBienes"],this.dataSource=[],this.buildVariables()}ngOnInit(){this.getAllImpuestos(),this.calcularCantidadContribuyentes(),this.calcularCantidadBienes()}buildVariables(){this.impuestosMora={cantidad:0,descipcion:""},this.cantidadContribuyentes={cantidad:0,descipcion:""},this.cantidadBienes={cantidad:0,descipcion:""}}getAllImpuestos(){this.gestionImpuestosService.getImpuestos().subscribe(t=>{this.dataSource=t,this.dataSource.map(t=>t.asignado=!1),this.calcularImpuestosMora(t)})}accionRegistro(t){this.dialog.open(_,{width:"800px",panelClass:"custom-modalbox",data:{headerDialog:"Contribuyente",datos:t,accion:t?"editar":"agregar",acceptDialog:t?"Editar":"Registrar",cancelDialog:"Cancelar"}}).afterClosed().subscribe(t=>{this.getAllImpuestos()})}asignarImpuestoBienes(t){t.asignado=!0,this.gestionImpuestosService.asignarImpuestoBienes(t).subscribe({next:t=>{this._snackBar.open("Impuesto asignado con \xe9xito.","X",{duration:2e3})},error:t=>{this._snackBar.open("Impuesto ya asignado.","X",{duration:2e3})}})}calcularImpuestosMora(t){this.impuestosMora={cantidad:t.filter(t=>c(t.fechaLimitePagoExtraOrdinario)<c(new Date)).length,descipcion:"Impuestos en mora"}}calcularCantidadContribuyentes(){this.gestionContribuyentesService.getContribuyentes().subscribe(t=>{this.cantidadContribuyentes={cantidad:t.length,descipcion:"Cantidad de contribuyentes"}})}calcularCantidadBienes(){let t=0,a=0,i=0;this.gestionBienesService.getAllComercios().subscribe(o=>{t=o.length,this.gestionBienesService.getAllVehiculos().subscribe(o=>{a=o.length,this.gestionBienesService.getAllViviendas().subscribe(o=>{i=o.length,this.cantidadBienes={cantidad:t+a+i,descipcion:"Cantidad de bienes"}})})})}}return t.\u0275fac=function(a){return new(a||t)(s.Pb(d.b),s.Pb(w.a),s.Pb(b.a),s.Pb($.a),s.Pb(m.a))},t.\u0275cmp=s.Jb({type:t,selectors:[["app-gestion-impuestos"]],decls:47,vars:6,consts:[[1,"container-custom"],[1,"wrapper_main"],[1,"wrapper_main_content"],[1,"p-0"],[1,"mat-card-header","bg-primary","p-2"],["mat-raised-button","",1,"button-add",3,"click"],[1,"pt-3","pb-3"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","TipoBien"],["matColumnDef","Estado"],["matColumnDef","Obligatorio"],["matColumnDef","FechaLimitePagoOrdinario"],["matColumnDef","FechaLimitePagoExtraOrdinario"],["matColumnDef","VerMas"],["matColumnDef","AsignarImpuestoBienes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"row","row-custom"],["class","col-md-4",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["aria-label","Fish selection"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row",""],[1,"col-md-4"],[3,"data"]],template:function(t,a){1&t&&(s.Vb(0,"div",0),s.Vb(1,"div",1),s.Vb(2,"div",2),s.Vb(3,"mat-card",3),s.Vb(4,"mat-card-header",4),s.Vb(5,"mat-card-title"),s.Bc(6," Gesti\xf3n de impuestos"),s.Ub(),s.Vb(7,"button",5),s.cc("click",function(){return a.accionRegistro()}),s.Vb(8,"mat-icon"),s.Bc(9,"add"),s.Ub(),s.Bc(10," Agregar "),s.Ub(),s.Ub(),s.Qb(11,"br"),s.Vb(12,"mat-card-content",6),s.Vb(13,"table",7),s.Tb(14,8),s.zc(15,z,2,0,"th",9),s.zc(16,A,2,1,"td",10),s.Sb(),s.Tb(17,11),s.zc(18,L,2,0,"th",9),s.zc(19,Q,7,4,"td",10),s.Sb(),s.Tb(20,12),s.zc(21,R,2,0,"th",9),s.zc(22,F,5,2,"td",10),s.Sb(),s.Tb(23,13),s.zc(24,q,2,0,"th",9),s.zc(25,G,5,2,"td",10),s.Sb(),s.Tb(26,14),s.zc(27,J,2,0,"th",9),s.zc(28,H,3,4,"td",10),s.Sb(),s.Tb(29,15),s.zc(30,K,2,0,"th",9),s.zc(31,W,3,4,"td",10),s.Sb(),s.Tb(32,16),s.zc(33,Z,1,0,"th",9),s.zc(34,Y,3,0,"td",10),s.Sb(),s.Tb(35,17),s.zc(36,tt,1,0,"th",9),s.zc(37,at,3,1,"td",10),s.Sb(),s.zc(38,it,1,0,"tr",18),s.zc(39,ot,1,0,"tr",19),s.Ub(),s.Qb(40,"br"),s.Qb(41,"br"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Qb(42,"br"),s.Vb(43,"div",20),s.zc(44,et,2,1,"div",21),s.zc(45,nt,2,1,"div",21),s.zc(46,rt,2,1,"div",21),s.Ub()),2&t&&(s.Db(13),s.mc("dataSource",a.dataSource),s.Db(25),s.mc("matHeaderRowDef",a.displayedColumns),s.Db(1),s.mc("matRowDefColumns",a.displayedColumns),s.Db(5),s.mc("ngIf",a.impuestosMora.cantidad>0),s.Db(1),s.mc("ngIf",a.cantidadContribuyentes.cantidad>0),s.Db(1),s.mc("ngIf",a.cantidadBienes.cantidad>0))},directives:[u.a,u.d,u.f,C.a,g.a,u.b,S.j,S.c,S.e,S.b,S.g,S.i,o.n,S.d,S.a,E.b,E.a,S.f,S.h,k],pipes:[o.k,o.f],styles:[".container-custom[_ngcontent-%COMP%]{margin:74px 10px 0}.container-custom[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{justify-content:space-between}.container-custom[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{padding-top:10px}.container-custom[_ngcontent-%COMP%]   .mat-card-header[_ngcontent-%COMP%]   .button-add[_ngcontent-%COMP%]{color:#000}.container-custom[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.container-custom[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:var(--color-secondary)}.container-custom[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pagado[_ngcontent-%COMP%]{background-color:#017401;color:#fff}.container-custom[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .no-pagado[_ngcontent-%COMP%]{background-color:#bb0303;color:#fff}.row-custom[_ngcontent-%COMP%]{width:100%;padding-left:1%;margin-bottom:27px}"]}),t})()}];let dt=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({imports:[[e.c.forChild(ct)],e.c]}),t})();var st=i("PCNd");let lt=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({imports:[[o.c,dt,st.a,r.o]]}),t})()},R8I1:function(t,a,i){"use strict";i.d(a,"a",function(){return r});var o=i("AytR"),e=i("fXoL"),n=i("tk/3");let r=(()=>{class t{constructor(t){this.http=t}getTiposBienes(){return this.http.get(`${o.a.pathBienes}/bien/tiposBien`)}getAllVehiculos(){return this.http.get(`${o.a.pathBienes}/vehiculo/listar`)}getAllViviendas(){return this.http.get(`${o.a.pathBienes}/vivienda/listar`)}getAllComercios(){return this.http.get(`${o.a.pathBienes}/comercio/listar`)}getAllVehiculosContribuyente(t){return this.http.get(`${o.a.pathBienes}/vehiculo/contribuyente/${t}`)}getAllViviendasContribuyente(t){return this.http.get(`${o.a.pathBienes}/vivienda/contribuyente/${t}`)}getAllComerciosContribuyente(t){return this.http.get(`${o.a.pathBienes}/comercio/contribuyente/${t}`)}editarImpuesto(t){return this.http.put(`${o.a.pathImpuesto}/impuesto`,t)}agregarImpuesto(t){return this.http.post(`${o.a.pathImpuesto}/impuesto/registrar`,t)}editarVehiculoContribuyente(t){return this.http.put(`${o.a.pathBienes}/vehiculo/editar/${t.placa}`,t)}getDetalleVehiculo(t){return this.http.get(`${o.a.pathBienes}/vehiculo/detalle/${t}`)}agregarVehiculo(t){return this.http.post(`${o.a.pathBienes}/vehiculo/registrar`,t)}editarViviendaContribuyente(t){return this.http.put(`${o.a.pathBienes}/vivienda/editar/${t.cedulaCatrastal}`,t)}getDetalleVivienda(t){return this.http.get(`${o.a.pathBienes}/vivienda/detalle/${t}`)}agregarVivienda(t){return this.http.post(`${o.a.pathBienes}/vivienda/registrar`,t)}editarComercioContribuyente(t){return this.http.put(`${o.a.pathBienes}/comercio/editar/${t.nit}`,t)}getDetalleComercio(t){return this.http.get(`${o.a.pathBienes}/comercio/detalle/${t}`)}agregarComercio(t){return this.http.post(`${o.a.pathBienes}/comercio/registrar`,t)}}return t.\u0275fac=function(a){return new(a||t)(e.Zb(n.b))},t.\u0275prov=e.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},aD4V:function(t,a,i){"use strict";i.d(a,"a",function(){return r});var o=i("AytR"),e=i("fXoL"),n=i("tk/3");let r=(()=>{class t{constructor(t){this.http=t}getImpuestos(){return this.http.get(`${o.a.pathImpuesto}/impuesto`)}getImpuestosContribuyente(t){return this.http.get(`${o.a.pathImpuesto}/impuesto/listarImpuestosContribuyenbte/${t}`)}editarContribuyente(t){return this.http.put(`${o.a.pathImpuesto}/impuesto/editar/${t.id}`,t)}agregarContribuyente(t){return this.http.post(`${o.a.pathImpuesto}/impuesto/registrar`,t)}getImpuestosBien(t){return this.http.get(`${o.a.pathImpuesto}/impuesto/listarImpuestosBien/${t}`)}asignarImpuestoBienes(t){return this.http.post(`${o.a.pathImpuesto}/impuesto/asignarImpuestoBienes`,t)}}return t.\u0275fac=function(a){return new(a||t)(e.Zb(n.b))},t.\u0275prov=e.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);